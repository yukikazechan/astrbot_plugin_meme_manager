# ğŸŒŸ AstrBot è¡¨æƒ…åŒ…ç®¡ç†å™¨

<div align="center">

[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](https://opensource.org/licenses/MIT)
![Python Version](https://img.shields.io/badge/Python-3.10.14%2B-blue)
![Platform](https://img.shields.io/badge/Platform-Windows%20%7C%20Linux%20%7C%20macOS-lightgrey)
[![PRs Welcome](https://img.shields.io/badge/PRs-Welcome-brightgreen)](CONTRIBUTING.md)
[![Contributors](https://img.shields.io/github/contributors/anka-afk/astrbot_plugin_meme_manager?color=green)](https://github.com/anka-afk/astrbot_plugin_meme_manager/graphs/contributors)
[![Last Commit](https://img.shields.io/github/last-commit/anka-afk/astrbot_plugin_meme_manager)](https://github.com/anka-afk/astrbot_plugin_meme_manager/commits/main)

</div>

<div align="center">

[![Moe Counter](https://count.getloli.com/get/@GalChat?theme=moebooru)](https://github.com/anka-afk/astrbot_plugin_meme_manager)

</div>

ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ AstrBot è¡¨æƒ…åŒ…ç®¡ç†æ’ä»¶ï¼Œæ”¯æŒ ğŸ¤– AI æ™ºèƒ½å‘é€è¡¨æƒ…ã€ğŸŒ WebUI ç®¡ç†ç•Œé¢ã€â˜ï¸ äº‘ç«¯åŒæ­¥ç­‰ç‰¹æ€§ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹ç‚¹

| åŠŸèƒ½                    | æè¿°                                                             |
| ----------------------- | ---------------------------------------------------------------- |
| ğŸ¤– AI æ™ºèƒ½è¯†åˆ«          | è‡ªåŠ¨è¯†åˆ«å¯¹è¯åœºæ™¯ï¼Œå‘é€åˆé€‚çš„è¡¨æƒ…                                 |
| ğŸ–¼ï¸ å¿«é€Ÿä¸Šä¼ å’Œç®¡ç†è¡¨æƒ…åŒ… | é€šè¿‡å‘½ä»¤å¿«é€Ÿä¸Šä¼ å’Œç®¡ç†è¡¨æƒ…åŒ…                                     |
| ğŸŒ WebUI ç®¡ç†ç•Œé¢       | æä¾›ä¾¿æ·çš„ WebUI ç®¡ç†ç•Œé¢                                        |
| â˜ï¸ äº‘ç«¯å›¾åºŠåŒæ­¥         | æ”¯æŒä¸äº‘ç«¯å›¾åºŠåŒæ­¥ï¼Œæ–¹ä¾¿å¤šè®¾å¤‡ä½¿ç”¨                               |
| ğŸ¯ ç²¾ç¡®çš„è¡¨æƒ…åˆ†ç±»ç³»ç»Ÿ   | é€šè¿‡ç±»åˆ«ç®¡ç†è¡¨æƒ…ï¼Œæå‡ä½¿ç”¨ä½“éªŒ                                   |
| ğŸ”’ å®‰å…¨çš„è®¿é—®æ§åˆ¶æœºåˆ¶   | ç¡®ä¿ç®¡ç†ç•Œé¢çš„å®‰å…¨æ€§ï¼Œé˜²æ­¢æœªæˆæƒè®¿é—®                             |
| ğŸ“Š è¡¨æƒ…å‘é€æ§åˆ¶         | å¯ä»¥æ§åˆ¶æ¯æ¬¡å‘é€çš„è¡¨æƒ…æ•°é‡å’Œé¢‘ç‡                                 |
| ğŸ”„ è‡ªåŠ¨ç»´æŠ¤ Prompt      | æ‰€æœ‰ prompt ä¼šæ ¹æ®ä¿®æ”¹çš„è¡¨æƒ…åŒ…æ–‡ä»¶å¤¹ç›®å½•è‡ªåŠ¨ç»´æŠ¤ï¼Œæ— éœ€æ‰‹åŠ¨æ·»åŠ ï¼ |

## ğŸ“¦ å®‰è£…æ–¹æ³•

1. ç¡®ä¿å·²å®‰è£… AstrBot
2. å°†æ’ä»¶å¤åˆ¶åˆ° AstrBot çš„æ’ä»¶ç›®å½•ï¼ˆä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ Astrbot çš„æ’ä»¶ç®¡ç†å™¨å®‰è£…ï¼Œæˆ–ä¸‹è½½æœ¬é¡¹ç›®ä¸Šä¼ å‹ç¼©åŒ…ï¼‰
3. é‡å¯ AstrBot æˆ–ä½¿ç”¨çƒ­åŠ è½½å‘½ä»¤

## ğŸ› ï¸ ç¬¬ä¸€æ¬¡ä½¿ç”¨

æ³¨æ„ï¼šç¬¬ä¸€æ¬¡ä½¿ç”¨è¯·å…ˆè¿›è¡Œé…ç½®ï¼Œé…ç½®æ­¥éª¤å¦‚ä¸‹ï¼š

1. **æ‰“å¼€è®¾ç½®**ï¼šè¿›å…¥è®¾ç½®ç•Œé¢ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š
   ![æ‰“å¼€è®¾ç½®](.github/img/open_setting.png)

2. **è¿›è¡Œè®¾ç½®**ï¼šæ ¹æ®ä»¥ä¸‹è¯´æ˜è¿›è¡Œé…ç½®ï¼Œä½ ä¹Ÿå¯ä»¥ç‚¹å‡»é—®å·äº†è§£é…ç½®è¯´æ˜ï¼š
   ![è®¾ç½®æ’ä»¶](.github/img/setting.png)

   > **æ³¨æ„**ï¼šä½ éœ€è¦è®¾ç½®å¥½å›¾åºŠçš„ API Keyã€API Secret å’Œç©ºé—´åç§°ï¼Œæ‰èƒ½æ­£å¸¸ä½¿ç”¨å›¾åºŠåŒæ­¥ç­‰åŠŸèƒ½ã€‚å¦‚æœä¸è®¾ç½®å›¾åºŠä¿¡æ¯ï¼Œé»˜è®¤æ— æ³•ä½¿ç”¨å›¾åºŠåŠŸèƒ½ï¼Œå…¶ä»–åŠŸèƒ½å¦‚ WebUI å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚

## â˜ï¸ å›¾åºŠé…ç½®

æœ¬æ’ä»¶ç›®å‰æ”¯æŒ **stardots** å›¾åºŠã€‚

1. **æ³¨å†Œè´¦å·**ï¼šå¦‚æœæ²¡æœ‰è´¦å·ï¼Œä½ éœ€è¦å…ˆæ³¨å†Œä¸€ä¸ª stardots è´¦å·ï¼Œæˆ–ç›´æ¥ä½¿ç”¨å…¶ä»–æ–¹å¼ç™»å½•ã€‚

   > Stardots å›¾åºŠå…è´¹è´¦æˆ·æ”¯æŒ 1 ä¸ªç©ºé—´ï¼Œ2024 å¼ å›¾åƒï¼ˆå¯¹äºè¡¨æƒ…åŒ…æ¥è¯´æ˜¯è¶³å¤Ÿçš„ï¼‰ï¼Œæ¯æœˆ 10GB æµé‡ä¼ è¾“ã€‚å…è´¹è´¦æˆ·å¯¹äºæˆ‘ä»¬åŒæ­¥å­˜å‚¨è¡¨æƒ…åŒ…çš„éœ€æ±‚æ¥çœ‹æ˜¯è¶³å¤Ÿçš„ã€‚

2. **å»ºç«‹ç©ºé—´**ï¼šæ³¨å†Œè´¦å·åï¼Œä½ éœ€è¦å…ˆå»ºç«‹ä¸€ä¸ªç©ºé—´ï¼Œæ“ä½œå¦‚å›¾æ‰€ç¤ºï¼š
   ![å»ºç«‹ç©ºé—´](.github/img/stardots_step2.png)

   > è®°ä½ä½ å»ºç«‹çš„ç©ºé—´çš„åå­—ï¼Œå°†å…¶å¡«å…¥æ’ä»¶è®¾ç½®ä¸­çš„å›¾åºŠé…ç½®ä¿¡æ¯çš„ç©ºé—´åç§°ä¸­ã€‚

3. **è·å– API Key å’Œ API Secret**ï¼šåœ¨åŒæ ·çš„ç•Œé¢ï¼Œç‚¹å‡»å·¦ä¾§çš„"å¼€æ”¾ API" -> "å¯†é’¥"ï¼Œç‚¹å‡»ç”Ÿæˆå¯†é’¥ï¼š
   ![ç”Ÿæˆå¯†é’¥](.github/img/stardots_step3.png)

   ä½ ä¼šçœ‹åˆ°å¦‚ä¸‹ç”»é¢ï¼š
   ![è·å¾—å¯†é’¥](.github/img/stardots_step4.png)

   å°†å…¶ä¸­çš„ API Key å’Œ API Secret å¡«å…¥æ’ä»¶è®¾ç½®ä¸­çš„å›¾åºŠé…ç½®ä¿¡æ¯ä¸­ï¼Œç‚¹å‡»ä¿å­˜é…ç½®ï¼ŒAstrBot å°†ä¼šé‡å¯ã€‚

   > æ‰“å¼€ WebUI è·å–åŒæ­¥ä¿¡æ¯æˆ–å‘é€ `/è¡¨æƒ…ç®¡ç† åŒæ­¥çŠ¶æ€` äº«å—å›¾åºŠåŒæ­¥åŠŸèƒ½ï¼

## âš™ï¸ é…ç½®è¯´æ˜

æ’ä»¶é…ç½®é¡¹åŒ…æ‹¬ï¼š

- `image_host`: é€‰æ‹©å›¾åºŠæœåŠ¡ (ç›®å‰æ”¯æŒ stardots)
- `image_host_config`: å›¾åºŠé…ç½®ä¿¡æ¯
- `webui_port`: WebUI æœåŠ¡ç«¯å£å·
- `max_emotions_per_message`: æ¯æ¡æ¶ˆæ¯æœ€å¤§è¡¨æƒ…æ•°é‡
- `emotions_probability`: è¡¨æƒ…è§¦å‘æ¦‚ç‡ (0-100)
- `strict_max_emotions_per_message`: æ˜¯å¦ä¸¥æ ¼é™åˆ¶è¡¨æƒ…æ•°é‡

## ğŸ“ ä½¿ç”¨æŒ‡ä»¤

| æŒ‡ä»¤                        | æè¿°                    |
| --------------------------- | ----------------------- |
| `/è¡¨æƒ…ç®¡ç† æŸ¥çœ‹å›¾åº“`        | ğŸ“š åˆ—å‡ºæ‰€æœ‰å¯ç”¨è¡¨æƒ…ç±»åˆ« |
| `/è¡¨æƒ…ç®¡ç† æ·»åŠ è¡¨æƒ… [ç±»åˆ«]` | â• æ·»åŠ æ–°è¡¨æƒ…åˆ°æŒ‡å®šåˆ†ç±» |
| `/è¡¨æƒ…ç®¡ç† å¼€å¯ç®¡ç†åå°`    | ğŸš€ å¯åŠ¨ WebUI æœåŠ¡      |
| `/è¡¨æƒ…ç®¡ç† å…³é—­ç®¡ç†åå°`    | ğŸ”’ å…³é—­ WebUI æœåŠ¡      |
| `/è¡¨æƒ…ç®¡ç† åŒæ­¥çŠ¶æ€`        | ğŸ”„ æ£€æŸ¥åŒæ­¥çŠ¶æ€         |
| `/è¡¨æƒ…ç®¡ç† åŒæ­¥åˆ°äº‘ç«¯`      | â˜ï¸ å°†æœ¬åœ°è¡¨æƒ…åŒæ­¥åˆ°äº‘ç«¯ |
| `/è¡¨æƒ…ç®¡ç† ä»äº‘ç«¯åŒæ­¥`      | â¬‡ï¸ ä»äº‘ç«¯åŒæ­¥è¡¨æƒ…åˆ°æœ¬åœ° |

## ğŸ‰ AI è¡¨æƒ…ä½¿ç”¨

AI ä¼šè‡ªåŠ¨è¯†åˆ«å¯¹è¯ä¸­çš„è¡¨æƒ…æ ‡è®°ï¼ˆæ ¼å¼ï¼šâ¬¡ è¡¨æƒ…ç±»åˆ« â¬¡ï¼‰ï¼Œå¹¶å‘é€å¯¹åº”ç±»åˆ«çš„è¡¨æƒ…ã€‚ä¾‹å¦‚ï¼š

- â¬¡happyâ¬¡ - å‘é€å¼€å¿ƒè¡¨æƒ… ğŸ˜Š
- â¬¡confusedâ¬¡ - å‘é€å›°æƒ‘è¡¨æƒ… ğŸ˜•
- â¬¡sadâ¬¡ - å‘é€ä¼¤å¿ƒè¡¨æƒ… ğŸ˜¢

## ğŸ–¥ï¸ WebUI åŠŸèƒ½é¢„è§ˆ

ä»¥ä¸‹æ˜¯ WebUI çš„åŠŸèƒ½é¢„è§ˆï¼š

| åŠŸèƒ½           | é¢„è§ˆå›¾ç¤º                                                      |
| -------------- | ------------------------------------------------------------- |
| ç™»å½•ç•Œé¢       | ![ç™»å½•ç•Œé¢](.github/img/login_screenshot.png)                 |
| è¡¨æƒ…åŒ…ç®¡ç†ç•Œé¢ | ![è¡¨æƒ…åŒ…ç®¡ç†ç•Œé¢](.github/img/meme_management_screenshot.png) |

## ğŸ“œ æ›´æ–°æ—¥å¿—

### v3.0

- ğŸ”„ å®Œå…¨é‡æ„ä»£ç æ¶æ„
- ğŸŒŸ æ–°å¢ WebUI ç®¡ç†ç•Œé¢
- â˜ï¸ æ·»åŠ å›¾åºŠåŒæ­¥åŠŸèƒ½
- ğŸ¤– ä¼˜åŒ–è¡¨æƒ…è¯†åˆ«ç®—æ³•

### v2.2

- ğŸ‰ å¢åŠ æ›´å¤šè¡¨æƒ…åŒ…
- ğŸ› ï¸ ä¿®å¤ TTS å…¼å®¹æ€§é—®é¢˜

### v2.1

- âš¡ ä¼˜åŒ–æ¶ˆæ¯å‘é€é€»è¾‘
- âœ‰ï¸ æ–‡æœ¬å’Œè¡¨æƒ…åˆ†å¼€å‘é€

### v2.0

- ğŸŒ æ”¯æŒç½‘ç»œå›¾ç‰‡ä¸Šä¼ 
- ğŸ”§ ä¼˜åŒ–ä¸Šä¼ æµç¨‹

### v1.x

- ğŸš€ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- ğŸ“¦ åŸºç¡€è¡¨æƒ…ç®¡ç†åŠŸèƒ½
- ğŸ–¼ï¸ å¤šå›¾ä¸Šä¼ æ”¯æŒ

## âš ï¸ æ³¨æ„äº‹é¡¹

1. WebUI æœåŠ¡éœ€è¦ç®¡ç†å‘˜æƒé™æ‰èƒ½å¼€å¯
2. ä½¿ç”¨äº‘ç«¯åŒæ­¥åŠŸèƒ½å‰éœ€è¦æ­£ç¡®é…ç½®å›¾åºŠä¿¡æ¯
3. è¯·å‹¿å°† WebUI è®¿é—®å¯†é’¥åˆ†äº«ç»™æœªæˆæƒç”¨æˆ·

## ğŸ› ï¸ é—®é¢˜åé¦ˆ

å¦‚æœé‡åˆ°é—®é¢˜æˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼Œæ¬¢è¿åœ¨ GitHub æäº¤ Issueã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯å¼€æºã€‚
